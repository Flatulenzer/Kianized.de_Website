<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>KIANIZED</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  html, body { ... }
  .container { ... }
  .kianized { ... }
  .kianized::before { ... }
  .kianized.hovered::before { ... }
  @keyframes zoomIn { ... }
  @keyframes pingpongWave { ... }
  .loading, .else { ... }
  .footer-top, .footer-bottom { ... }
  .footer-top a, .footer-bottom a {
    color: #a678f0;
    text-decoration: none;
    transition: transform 0.3s ease, color 0.3s ease;
    display: block;
  }
  .footer-top a:hover, .footer-bottom a:hover {
    transform: scale(1.2);
    color: #e2b8ff;
  }
  .cookie-banner { ... }
</style>
</head>
<body>
  <div class="container">
    <div class="kianized" id="kianized">KIANIZED</div>
    <div class="loading" id="loadingText">Loading...</div>
    <div class="else" id="elseText">„Wenn’s geil wird – umso besser.“</div>
  </div>

  <div class="footer-top">
    <a href="philosophie.html" class="sound-link" data-sound="Cranky_Blipp.wav">Unsere Philosophie</a>
    <a href="wer-war-da.html?from=desktop" class="sound-link" data-sound="Cranky_Blipp.wav">Wer war da?</a>
  </div>

  <div class="footer-bottom">
    <a href="datenschutz.html" class="sound-link" data-sound="Cranky_Sci-Fi_Ring.wav">Datenschutz</a>
    <a href="impressum.html" class="sound-link" data-sound="Cranky_Sci-Fi_Ring.wav">Impressum</a>
  </div>

  <!-- Hintergrundsound -->
  <audio id="backgroundLoop" src="assets/Cranky_50Hz.wav" loop autoplay></audio>

  <!-- Sound-Effekte für Buttons -->
  <audio id="soundPlayer" loop></audio>

  <!-- Cookie-Banner -->
  <div class="cookie-banner" id="cookieBanner">
    Diese Website verwendet Cookies. Durch die Nutzung dieser Seite erklären Sie sich damit einverstanden.
    <a href="datenschutz.html">Mehr erfahren</a>
    <button onclick="acceptCookies()">OK</button>
  </div>

  <script>
    // Ladeanimation ausblenden
    setTimeout(() => {
      document.getElementById('loadingText').style.display = 'none';
      document.getElementById('elseText').style.display = 'block';
    }, 6000);

    const kianized = document.getElementById('kianized');
    const elseText = document.getElementById('elseText');
    const originalText = '„Wenn’s geil wird – umso besser.“';
    const hoverText = '„Ist kein Laden. Es ist ein Zustand.“';

    let morphInterval;
    let currentText = originalText;

    function typeMorph(from, to) {
      clearInterval(morphInterval);
      const maxLength = Math.max(from.length, to.length);
      let index = 0;
      morphInterval = setInterval(() => {
        if (index <= maxLength) {
          const left = to.substring(0, index);
          const right = from.substring(index);
          elseText.textContent = left + right;
          index++;
        } else {
          currentText = to;
          clearInterval(morphInterval);
        }
      }, 50);
    }

    function updateSpotlight(x, y) {
      kianized.style.setProperty('--x', `${x}%`);
      kianized.style.setProperty('--y', `${y}%`);
    }

    function enableSpotlight() {
      kianized.classList.add('hovered');
    }

    function disableSpotlight() {
      kianized.classList.remove('hovered');
    }

    kianized.addEventListener('mousemove', (e) => {
      const rect = kianized.getBoundingClientRect();
      const x = ((e.clientX - rect.left) / rect.width) * 100;
      const y = ((e.clientY - rect.top) / rect.height) * 100;
      updateSpotlight(x, y);
      enableSpotlight();
    });

    kianized.addEventListener('mouseleave', () => {
      disableSpotlight();
      if (currentText !== originalText) typeMorph(hoverText, originalText);
    });

    kianized.addEventListener('mouseenter', () => {
      if (currentText !== hoverText) typeMorph(originalText, hoverText);
    });

    kianized.addEventListener('touchmove', (e) => {
      if (e.touches.length > 0) {
        const touch = e.touches[0];
        const rect = kianized.getBoundingClientRect();
        const x = ((touch.clientX - rect.left) / rect.width) * 100;
        const y = ((touch.clientY - rect.top) / rect.height) * 100;
        updateSpotlight(x, y);
        enableSpotlight();
      }
    });

    kianized.addEventListener('click', () => {
      if (currentText === originalText) {
        typeMorph(originalText, hoverText);
      } else {
        typeMorph(hoverText, originalText);
      }
    });

    // Cookie-Banner Logik
    function acceptCookies() {
      localStorage.setItem('cookiesAccepted', 'true');
      document.getElementById('cookieBanner').style.display = 'none';
    }

    window.addEventListener('load', () => {
      if (!localStorage.getItem('cookiesAccepted')) {
        document.getElementById('cookieBanner').style.display = 'block';
      }
    });

    // Hover-Soundlogik
    const soundPlayer = document.getElementById('soundPlayer');
    document.querySelectorAll('.sound-link').forEach(link => {
      link.addEventListener('mouseenter', () => {
        const soundFile = link.getAttribute('data-sound');
        soundPlayer.src = 'assets/' + soundFile;
        soundPlayer.currentTime = 0;
        soundPlayer.play();
      });
      link.addEventListener('mouseleave', () => {
        soundPlayer.pause();
        soundPlayer.currentTime = 0;
      });
    });
  </script>
</body>
</html>
